appId: com.eq-rts-map
productName: eq-rts-map
copyright: Copyright Â© 2025 ExpTech Studio

protocols:
  - name: "eq-rts-map"
    schemes:
      - eq-rts-map

directories:
  output: dist

extraMetadata:
  main: ./build/main.cjs

files:
  - build/**/*
  - out/**/*
  - package.json
  - "!dist"

extraResources:
  - from: ./public/icons/
    to: icons/
  - from: ./public/audios/
    to: audios/

compression: maximum
asar: true
artifactName: ${productName}-${version}-${os}-${arch}.${ext}

afterPack: .erb/scripts/afterPack.js

win:
  target:
    - target: nsis
      arch:
        - x64
        - ia32
  icon: ./public/icons/app.ico
  verifyUpdateCodeSignature: false

nsis:
  perMachine: false
  allowToChangeInstallationDirectory: false
  deleteAppDataOnUninstall: false
  include: ./assets/installer.nsh

mac:
  category: public.app-category.productivity
  icon: ./public/icons/app.png
  hardenedRuntime: true
  extendInfo:
    CFBundleURLTypes:
      - CFBundleURLName: "eq-rts-map OAuth callback"
        CFBundleURLSchemes: ["eq-rts-map"]
        CFBundleURLRole: "Editor"
  target:
    - target: dmg
      arch:
        - arm64
        - x64
    - target: zip
      arch:
        - arm64
        - x64
  gatekeeperAssess: false
  entitlements: ./assets/entitlements.mac.plist
  entitlementsInherit: ./assets/entitlements.mac.plist

linux:
  category: Development
  icon: ./public/icons/app.png
  mimeTypes:
    - x-scheme-handler/eq-rts-map
  target:
    - target: AppImage
      arch:
        - x64
        - arm64
